<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>circle flow simulation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <script type="text/javascript" src="io_script.js"></script>
    <script type="text/javascript" src="sim_script.js"></script>


  </head>
  <body>

    <div id="svg_container" style="float:left">
        <svg id="svg_element"
            width="20cm"
            height="20cm"
            viewBox="0 0 1000 1000"
            xmlns="http://www.w3.org/2000/svg"
            version="1.1"
        >
          <style type="text/css">
            <![CDATA[
    .Border { fill:none; stroke:blue; stroke-width:1 }
    .Point { fill:black; }
    .Circle { fill:none; stroke:gray; stroke-width:1 }
            ]]>
          </style>

          <rect class="Border" x="2" y="2" width="996" height="996" />
          <circle class="Circle" cx="500" cy="500" r="300" />
          <g id="GroupSites"></g>
        </svg>
    </div>
    <div style="float:left;margin-left:20px;">
    <p style="width:600px;">simulation:<br />
Let's consider N particles on a ring of L sites.
The particles perform hops (transitions) to vacant neighbour sites with clockwise rate w+ and counter-clockwise rate w-.
The transition times are generated by random with exponential distribution of probability corresponding to the rates.
    </p>
site count:  <br />
<input type="number" step="1" id="SITE_CNT" value="20" />
<button type="button" onclick="sites_set()">set sites</button>
<br />
<br />
Add or remove particles to the simulation by clicking on the sites.
<br />
<br />transitions per second:<br />
rate w+ <input type="number" step="0.1" id="wplus" value="0.9" /> rate w- <input type="number" step="0.1" id="wminus" value="0.6" /> [s<sup>-1</sup>]
<button type="button" onclick="rates_set()">set rates</button>
<br />
<br />
controls: <br />
<button type="button" onclick="sim_init()">run simulation</button>
<button type="button" onclick="sim_stop()">stop/reset</button>
<br />
simulation speed: <!--<input type="range" step = "1" min="0" max="100" id="speed_slide" value="50" onchange="speed_slide()" />-->
<form name="speed_form" action="">
<input type="radio" name="s" value="-1" onchange="speed_slide()" />paused
<input type="radio" name="s" value="1000" onchange="speed_slide()" checked="checked" />real-time
<input type="radio" name="s" value="0" onchange="speed_slide()" />max
</form>
<br />
outlog:<p id="outlog" style="width:600px;height:200px;overflow:hidden;"></p>
<table>
<tr><td>particles: </td><td><span id="part_cnt">0</span></td></tr>
<tr><td>simtime: </td><td><span id="simtime">0</span></td></tr>
<tr><td>total transitions: </td><td><span id="total">0</span></td></tr>
<tr><td>current/flow: </td><td><span id="current">0</span></td></tr>
</table>
    </div>
<p style="position:absolute;bottom:0;">february/march 2014</p>

  </body>
</html>


